//il componente <pre> serve a visualizzare testo pre-formattato
import React, { useState, useEffect } from "react";
import "./Avvio.css"

function Avvio({avvioCli}) {
  const [statoConsole, setStatoConsole] = useState([]);

  const messaggiAvvio = [
    "============================================================",
    "                 BLACK SPIDER - v1.0.0",
    "        Advanced Web Vulnerability Scanner Tool",
    "============================================================",
    "[+] Initializing core modules...",
    "[+] Loading attack vectors and plugins...",
    "[+] Setting up internal engine...",
    "[+] Verifying system requirements...",
    "[+] Checking update channels...",
    "[✓] Environment check complete.",
    "[✓] Network interfaces verified.",
    "[✓] Scanner engine ready.",
    "",
    "Type 'help' for more information.",
  ];
  
  let indiceMessaggio = 0;
  
  // avvio console
    function avvioCLI() {
        let indiceMessaggio = 0;

        const intervallo = setInterval(() => {
            if (indiceMessaggio < messaggiAvvio.length) {
                const messaggioCorrente = messaggiAvvio[indiceMessaggio];      

                setStatoConsole(prevStato => [...prevStato, messaggioCorrente]);

                indiceMessaggio++;
            } else {
                avvioCli("1")
                clearInterval(intervallo);
            }
        }, 400);
    }

    // Esegui avvioCLI solo una volta quando il componente è caricato
    useEffect(() => {
        avvioCLI();
    }, []);

  return (
    <>
    <div id="ascii-container">
      <pre
        id="titoloSito"
      >
        {`          _____                    _____            _____                    _____                    _____                            _____                    _____                    _____                    _____                    _____                    _____          
         /\\    \\                  /\\    \\          /\\    \\                  /\\    \\                  /\\    \\                          /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\                  /\\    \\         
        /::\\    \\                /::\\____\\        /::\\    \\                /::\\    \\                /::\\____\\                        /::\\    \\                /::\\    \\                /::\\    \\                /::\\    \\                /::\\    \\                /::\\    \\        
       /::::\\    \\              /:::/    /       /::::\\    \\              /::::\\    \\              /:::/    /                       /::::\\    \\              /::::\\    \\               \\:::\\    \\              /::::\\    \\              /::::\\    \\              /::::\\    \\       
      /::::::\\    \\            /:::/    /       /::::::\\    \\            /::::::\\    \\            /:::/    /                       /::::::\\    \\            /::::::\\    \\               \\:::\\    \\            /::::::\\    \\            /::::::\\    \\            /::::::\\    \\      
     /:::/\\:::\\    \\          /:::/    /       /:::/\\:::\\    \\          /:::/\\:::\\    \\          /:::/    /                       /:::/\\:::\\    \\          /:::/\\:::\\    \\               \\:::\\    \\          /:::/\\:::\\    \\          /:::/\\:::\\    \\          /:::/\\:::\\    \\     
    /:::/__\\:::\\    \\        /:::/    /       /:::/__\\:::\\    \\        /:::/  \\:::\\    \\        /:::/____/                       /:::/__\\:::\\    \\        /:::/__\\:::\\    \\               \\:::\\    \\        /:::/  \\:::\\    \\        /:::/__\\:::\\    \\        /:::/__\\:::\\    \\    
   /::::\\   \\:::\\    \\      /:::/    /       /::::\\   \\:::\\    \\      /:::/    \\:::\\    \\      /::::\\    \\                       \\:::\\   \\:::\\    \\      /::::\\   \\:::\\    \\              /::::\\    \\      /:::/    \\:::\\    \\      /::::\\   \\:::\\    \\      /::::\\   \\:::\\    \\   
  /::::::\\   \\:::\\    \\    /:::/    /       /::::::\\   \\:::\\    \\    /:::/    / \\:::\\    \\    /::::::\\____\\________            ___\\:::\\   \\:::\\    \\    /::::::\\   \\:::\\    \\    ____    /::::::\\    \\    /:::/    / \\:::\\    \\    /::::::\\   \\:::\\    \\    /::::::\\   \\:::\\    \\  
 /:::/\\:::\\   \\:::\\ ___\\  /:::/    /       /:::/\\:::\\   \\:::\\    \\  /:::/    /   \\:::\\    \\  /:::/\\::::::::::::\\    \\         /\\   \\:::\\   \\:::\\    \\  /:::/\\:::\\   \\:::\\____\\ / \\   \\  /:::/\\:::\\    \\  /:::/    /   \\:::\\ ___\\  /:::/\\:::\\   \\:::\\    \\  /:::/\\:::\\   \\:::\\____\\ 
/:::/__\\:::\\   \\:::|    |/:::/____/       /:::/  \\:::\\   \\:::\\____\\/:::/____/     \\:::\\____\\/:::/  \\:::::::_____\\____\\       /::\\   \\:::\\   \\:::\\    \\/:::/  \\:::\\   \\:::|   | /::\\   \\/:::/  \\:::\\____\\/:::/____/     \\:::|    |/:::/__\\:::\\   \\:::\\____\\/:::/  \\:::\\   \\:::|    |
\\:::\\   \\:::\\  /:::|____|\\:::\\    \\       \\::/    \\:::\\  /:::/    /\\:::\\    \\      \\::/    /\\::/    |::|   |                 \\:::\\   \\:::\\   \\::/    /\\::/    \\:::\\  /:::|___| \\:::\\  /:::/    \\::/    /\\:::\\    \\     /:::|____|\\:::\\   \\:::\\   \\::/    /\\::/   |::::\\  /:::|____|
 \\:::\\   \\:::\\/:::/    /  \\:::\\    \\       \\/____/ \\:::\\/:::/    /  \\:::\\    \\      \\/____/  \\/_____|::|   |                  \\:::\\   \\:::\\   \\/____/  \\/_____/\\:::\\/:::/    /  \\:::\\/:::/    / \\/____/  \\:::\\    \\   /:::/    /  \\:::\\   \\:::\\   \\/____/  \\/____|:::::\\/:::/    / 
  \\:::\\   \\::::::/    /    \\:::\\    \\               \\::::::/    /    \\:::\\    \\                     |::|   |                   \\:::\\   \\:::\\    \\               \\::::::/    /    \\::::::/    /            \\:::\\    \\ /:::/    /    \\:::\\   \\:::\\    \\            |:::::::::/    /  
   \\:::\\   \\::::/    /      \\:::\\    \\               \\::::/    /      \\:::\\    \\                    |::|   |                    \\:::\\   \\:::\\____\\               \\::::/    /      \\::::/____/              \\:::\\    /:::/    /      \\:::\\   \\:::\\____\\           |::|\\::::/    /   
    \\:::\\  /:::/    /        \\:::\\    \\              /:::/    /        \\:::\\    \\                   |::|   |                     \\::::\\/::::/    /                \\__/____/        \\:::\\    \\               \\:::\\  /:::/    /        \\:::\\   \\::/    /           |::| \\__/____/    
     \\::::\\/::/    /          \\:::\\    \\            /:::/    /          \\:::\\    \\                  |::|   |                      \\::::::::/    /                                   \\:::\\    \\               \\:::\\/:::/    /          \\:::\\   \\/____/            |::|   |          
      \\::::::/    /            \\:::\\    \\          /:::/    /            \\:::\\    \\                 |::|   |                       \\::::::/    /                                     \\:::\\    \\               \\::::::/    /            \\:::\\    \\                |::|   |          
       \\::::/    /              \\:::\\____\\        /:::/    /              \\:::\\____\\                \\::|   |                        \\::::/    /                                       \\:::\\____\\               \\::::/    /              \\:::\\____\\               \\::|   |          
        \\__/____/                \\::/    /        \\::/    /                \\::/    /                 \\:|   |                         \\::/    /                                         \\::/    /                \\__/____/                \\::/    /                \\:|   |          
                        \\/____/          \\/____/                  \\/____/                   \\|___|                          \\/____/                                           \\/____/                                           \\/____/                  \\|___|`}
      </pre>
      </div>
      <div className="console-container">
        <pre className="console-output"> {statoConsole.join("\n")}</pre>
      </div>
    </>
  );
}

export default Avvio;
